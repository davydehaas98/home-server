version: "3.8"
services:
# Minecraft server
  minecraft-server:
    image: itzg/minecraft-server:java8
    container_name: minecraft-server
    restart: unless-stopped
    cpus: 4
    mem_limit: 8G
    environment:
    - PGID=${PGID}
    - PUID=${PUID}
    - TZ=${TZ}
    - EULA=TRUE
    - VERSION=LATEST
    - ENABLE_AUTOPAUSE=TRUE
    - INIT_MEMORY=2G
    - MAX_MEMORY=8G
    - MEMORY=8192M
    - TYPE=FORGE
    - SERVER_NAME=MyServer
    - ICON=https://davydehaas.nl/assets/images/memoji.png
    - OVERRIDE_ICON=TRUE
    - DIFFICULTY=normal
    - OPS=Capta1nCreeper
    - WHITELIST=Capta1nCreeper,Timooo0,Lukam0s,DutchDog99,mcodenl,rekkmore,Mark0nius99
    - MAX_PLAYERS=20
    - MAX_WORLD_SIZE=10000
    - ALLOW_NETHER=TRUE
    - ANNOUNCE_PLAYER_ACHIEVEMENTS=TRUE
    - ENABLE_COMMAND_BLOCK=TRUE
    - FORCE_GAMEMODE=FALSE
    - GENERATE_STRUCTURES=TRUE
    - HARDCORE=FALSE
    - SNOOPER_ENABLED=FALSE
    - MAX_BUILD_HEIGHT=256
    - MAX_TICK_TIME=60000
    - SPAWN_ANIMALS=TRUE
    - SPAWN_MONSTERS=TRUE
    - SPAWN_NPCS=TRUE
    - SPAWN_PROTECTION=16
    - VIEW_DISTANCE=10
    #- SEED=1785852800490497919
    - MODE=survival
    - MOTD=Davy's Vanilla Minecraft server.
    - PVP=TRUE
    - LEVEL_TYPE=DEFAULT
    - ONLINE_MODE=TRUE
    - ALLOW_FLIGHT=FALSE
    volumes:
    - /server/minecraft-server/data:/data
    ports:
    - 25565:25565
    labels:
    - com.centurylinklabs.watchtower.enable=true
    - diun.enable=true
    - diun.watch_repo=true
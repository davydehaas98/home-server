services:
  code-server:
    image: lscr.io/linuxserver/code-server:4.93.1@sha256:cae70698a8e86d9a03793e5e6dca4cc3775019da85525a794b786d659156a0a9
    container_name: code-server
    restart: unless-stopped
    cpus: 4
    mem_limit: 8G
    user: ${UID}:${GID}
    environment:
    - PGID=${GID}
    - PUID=${UID}
    - TZ=${TZ}
    - PASSWORD= #optional
    volumes:
    - ${USER_DIR}/code-server/config:/config
    expose:
    - 8443
    labels:
    - com.centurylinklabs.watchtower.enable=true
    - diun.enable=true
    - diun.watch_repo=true
